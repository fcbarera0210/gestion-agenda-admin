<div class="relative flex items-center justify-center min-h-screen bg-[var(--bg-color)]">

  <button
    (click)="toggleTheme()"
    aria-label="Cambiar tema"
    class="absolute top-4 right-4 p-2 rounded-lg border border-[var(--border-color)] bg-[var(--card-bg)] text-[var(--text-color)] hover:bg-primary hover:text-white transition-colors"
  >
    <svg
      xmlns="http://www.w3.org/2000/svg"
      class="w-5 h-5"
      fill="none"
      viewBox="0 0 24 24"
      stroke="currentColor"
    >
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        stroke-width="2"
        d="M12 3v1m0 16v1m8-9h1M3 12H2m15.364-6.364l.707.707M6.343 17.657l-.707.707m0-12.728l.707.707M17.657 17.657l.707.707M12 8a4 4 0 100 8 4 4 0 000-8z"
      />
    </svg>
  </button>

  <div class="relative w-full max-w-md p-8 space-y-8 rounded-2xl shadow-lg bg-[var(--card-bg)]">
    
    <div class="text-center">
      <h1 class="text-3xl font-bold text-gray-800">Bienvenido de Nuevo</h1>
      <p class="mt-2 text-sm text-gray-500">Inicia sesión para administrar tu agenda</p>
    </div>

    <form [formGroup]="formLogin" (ngSubmit)="onSubmit()" class="space-y-6">
      
      <div>
        <label for="email" class="text-sm font-medium text-gray-700">Correo Electrónico</label>
        <input 
          type="email" 
          id="email" 
          formControlName="email"
          placeholder="tu.correo@ejemplo.com"
            class="w-full px-4 py-3 mt-1 text-gray-700 bg-gray-100 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary">
      </div>

      <div>
        <label for="password" class="text-sm font-medium text-gray-700">Contraseña</label>
        <input 
          type="password" 
          id="password" 
          formControlName="password"
          placeholder="••••••••"
            class="w-full px-4 py-3 mt-1 text-gray-700 bg-gray-100 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary">
      </div>

      <div class="text-right">
        <button type="button" (click)="openForgotPasswordModal()" class="text-sm font-medium text-primary hover:underline">
          ¿Olvidaste tu contraseña?
        </button>
      </div>


      <button 
        type="submit"
        class="w-full px-4 py-3 font-semibold text-white transition duration-300 rounded-lg bg-primary hover:bg-opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary">
        Ingresar
      </button>

    </form>

    <div class="text-center">
      <p class="text-sm text-gray-600">
        ¿No tienes una cuenta? 
        <a routerLink="/register" class="font-medium text-primary hover:underline">Regístrate aquí</a>
      </p>
    </div>

  </div>
</div>

<app-forgot-password-modal
  *ngIf="showForgotPasswordModal"
  [isLoading]="isLoadingPasswordReset" 
  (onSend)="handlePasswordReset($event)"
  (onCancel)="closeForgotPasswordModal()">
</app-forgot-password-modal>

<app-toast-container></app-toast-container>